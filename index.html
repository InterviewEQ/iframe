<script>
    function applyStylesToMessenger() {
        const dfMessenger = document.querySelector("df-messenger");
        const shadowRoot = dfMessenger.shadowRoot;

        if (shadowRoot) {
            const iframe = shadowRoot.querySelector("iframe");
            if (iframe && iframe.contentWindow) {
                const iframeDocument = iframe.contentWindow.document;
                const messengerUI = iframeDocument.querySelector("df-messenger-ui");
                const launcher = iframeDocument.querySelector("df-launcher");

                if (messengerUI && launcher) {
                    const style = document.createElement("style");
                    style.innerHTML = `
                        df-messenger-ui {
                            height: 100vh !important;
                            width: 100vw !important;
                            position: fixed !important;
                            bottom: 0 !important;
                            left: 0 !important;
                            right: 0 !important;
                            top: 0 !important;
                            z-index: 100 !important;
                        }
                        df-launcher {
                            display: none !important;
                        }
                    `;

                    iframeDocument.head.appendChild(style);
                    messengerUI.setAttribute("opened", "true");
                } else {
                    setTimeout(applyStylesToMessenger, 500);
                }
            } else {
                setTimeout(applyStylesToMessenger, 500);
            }
        } else {
            setTimeout(applyStylesToMessenger, 500);
        }
    }

    document.addEventListener("DOMContentLoaded", applyStylesToMessenger);
</script>
