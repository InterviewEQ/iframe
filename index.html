<!DOCTYPE html>
<html>
  <head>
    <script>
      function onResponse(response) {
        if (response.queryResult.responseMessages) {
          for (let message of response.queryResult.responseMessages) {
            if (message.hasOwnProperty("text")) {
              // Use the SpeechSynthesis API to read the message text aloud
              let utterance = new SpeechSynthesisUtterance(message.text.text[0]);
              // Optionally, set the voice, pitch, and rate
              // utterance.voice = someSpeechSynthesisVoice;
              // utterance.pitch = 1;
              // utterance.rate = 1;
              speechSynthesis.speak(utterance);
            }
          }
        }
      }

      window.dfMessengerConfig = {
        location: "us-central1",
        chatTitle: "TestWiseMax",
        agentId: "09316289-1a29-4fb6-9c73-5117faee82d4",
        languageCode: "en",
        onResponse: onResponse,
      };
    </script>
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger-cx/bootstrap.js?v=1"></script>
  </head>
  <body>
    <df-messenger
      df-cx="true"
      location="us-central1"
      chat-title="TestWiseMax"
      agent-id="09316289-1a29-4fb6-9c73-5117faee82d4"
      language-code="en"
    ></df-messenger>
  </body>
</html>
